
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.5.0
  creationTimestamp: null
  name: managedclusters.clusters.clusternet.io
spec:
  group: clusters.clusternet.io
  names:
    categories:
    - clusternet
    kind: ManagedCluster
    listKind: ManagedClusterList
    plural: managedclusters
    shortNames:
    - mcls
    singular: managedcluster
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - description: The unique id for the cluster
      jsonPath: .spec.clusterId
      name: CLUSTER ID
      type: string
    - description: The type of the cluster
      jsonPath: .spec.clusterType
      name: CLUSTER TYPE
      priority: 100
      type: string
    - description: The cluster sync mode
      jsonPath: .spec.syncMode
      name: SYNC MODE
      type: string
    - jsonPath: .status.k8sVersion
      name: KUBERNETES
      type: string
    - jsonPath: .status.readyz
      name: READYZ
      type: string
    - jsonPath: .metadata.creationTimestamp
      name: AGE
      type: date
    name: v1beta1
    schema:
      openAPIV3Schema:
        description: ManagedCluster is the Schema for the managedclusters API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation of an object. Servers should convert recognized schemas to the latest internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this object represents. Servers may infer this from the endpoint the client submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: ManagedClusterSpec defines the desired state of ManagedCluster
            properties:
              clusterId:
                description: ClusterID, a Random (Version 4) UUID, is a unique value in time and space value representing for child cluster. It is typically generated by the clusternet agent on the successful creation of a "self-cluster" Lease in the child cluster. Also it is not allowed to change on PUT operations.
                pattern: '[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}'
                type: string
              clusterType:
                description: ClusterType denotes the type of the child cluster.
                type: string
              syncMode:
                description: SyncMode decides how to sync resources from parent cluster to child cluster.
                enum:
                - Push
                - Pull
                - Dual
                type: string
            required:
            - clusterId
            - syncMode
            type: object
          status:
            description: ManagedClusterStatus defines the observed state of ManagedCluster
            properties:
              apiserverURL:
                description: APIServerURL indicates the advertising url/address of managed Kubernetes cluster
                type: string
              appPusher:
                description: AppPusher indicates whether to allow parent cluster deploying applications in Push or Dual Mode. Mainly for security concerns.
                type: boolean
              clusterCIDR:
                description: ClusterCIDR is the CIDR range of the cluster
                type: string
              healthz:
                description: Healthz indicates the healthz status of the cluster which is deprecated since Kubernetes v1.16. Please use Livez and Readyz instead. Leave it here only for compatibility.
                type: boolean
              k8sVersion:
                description: k8sVersion is the Kubernetes version of the cluster
                type: string
              lastObservedTime:
                description: lastObservedTime is the time when last status from the series was seen before last heartbeat. RFC 3339 date and time at which the object was acknowledged by the Clusternet Agent.
                format: date-time
                type: string
              livez:
                description: Livez indicates the livez status of the cluster
                type: boolean
              parentAPIServerURL:
                description: ParentAPIServerURL is the advertising url/address of managed Kubernetes cluster registering to
                type: string
              platform:
                description: platform indicates the running platform of the cluster
                type: string
              readyz:
                description: Readyz indicates the readyz status of the cluster
                type: boolean
              serviceCIDR:
                description: ServcieCIDR is the CIDR range of the services
                type: string
              useSocket:
                description: UseSocket indicates whether to use socket proxy when connecting to child cluster.
                type: boolean
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
